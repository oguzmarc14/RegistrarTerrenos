---
interface Props {
  titulo: string;
  descripcion: string;
  precio: number;
  src_imagen: string;
  textBoton: string;
  hrefBoton: string;
  medidas?: string;
  ubicacion?: string;
  fecha?: string;
}

const {
  titulo,
  descripcion,
  precio,
  src_imagen,
  medidas,
  ubicacion,
  fecha,
  textBoton,
  hrefBoton,
} = Astro.props;

const baseUrl = import.meta.env.PUBLIC_SUPABASE_URL;
const imageUrl = `${baseUrl}/storage/v1/object/public/terrenos-imagenes/${src_imagen}`;
---

<article class="relative bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 h-120">
  <img
    src={imageUrl}
    alt={titulo}
    class="w-full h-48 object-cover"
  />

  <div class="p-4 space-y-2">
    <h2 class="text-xl font-bold">{titulo}</h2>
    <p class="text-sm text-gray-700">{descripcion}</p>
    <p class="text-green-700 font-semibold">${precio.toLocaleString()} MXN</p>
    {medidas && <p class="text-sm text-gray-500">Medidas: {medidas}</p>}
    {ubicacion && <p class="text-sm text-gray-500">Ubicaci√≥n: {ubicacion}</p>}
    {fecha && <p class="text-xs text-gray-400">Publicado: {new Date(fecha).toLocaleDateString()}</p>}
    <a href={hrefBoton} class:list={["absolute", "bottom-5", "-left-[-12px]", "bg-blue-700","px-3", "py-2", "rounded-2xl", "text-white"]}>{textBoton}</a>
  </div>
</article>
